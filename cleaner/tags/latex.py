import re

latex = [
    '\\\\alpha',
    '\\\\theta',
    '\\\\tau',
    '\\\\beta',
    '\\\\vartheta',
    '\\\\pi',
    '\\\\upsilon',
    '\\\\gamma',
    '\\\\varpi',
    '\\\\phi',
    '\\\\delta',
    '\\\\kappa',
    '\\\\rho',
    '\\\\varphi',
    '\\\\epsilon',
    '\\\\lambda',
    '\\\\varrho',
    '\\\\chi',
    '\\\\varepsilon',
    '\\\\mu',
    '\\\\sigma',
    '\\\\psi',
    '\\\\zeta',
    '\\\\nu',
    '\\\\varsigma',
    '\\\\omega',
    '\\\\eta',
    '\\\\xi',
    '\\\\pm',
    '\\\\cap',
    '\\\\diamond',
    '\\\\oplus',
    '\\\\mp',
    '\\\\cup',
    '\\\\bigtriangleup',
    '\\\\ominus',
    '\\\\times',
    '\\\\uplus',
    '\\\\bigtriangledown',
    '\\\\otimes',
    '\\\\div',
    '\\\\sqcap',
    '\\\\triangleleft',
    '\\\\oslash',
    '\\\\ast',
    '\\\\sqcup',
    '\\\\triangleright',
    '\\\\odot',
    '\\\\star',
    '\\\\vee',
    '\\\\lhd',
    '\\\\bigcirc',
    '\\\\circ',
    '\\\\wedge',
    '\\\\rhd',
    '\\\\dagger',
    '\\\\bullet',
    '\\\\setminus',
    '\\\\unlhd',
    '\\\\ddagger',
    '\\\\cdot',
    '\\\\wr',
    '\\\\unrhd',
    '\\\\amalg',
    '\\\\leq',
    '\\\\geq',
    '\\\\equiv',
    '\\\\models',
    '\\\\prec',
    '\\\\succ',
    '\\\\sim',
    '\\\\perp',
    '\\\\preceq',
    '\\\\succeq',
    '\\\\simeq',
    '\\\\mid',
    '\\\\ll',
    '\\\\gg',
    '\\\\asymp',
    '\\\\parallel',
    '\\\\subset',
    '\\\\supset',
    '\\\\approx',
    '\\\\bowtie',
    '\\\\subseteq',
    '\\\\supseteq',
    '\\\\cong',
    '\\\\Join',
    '\\\\sqsubset',
    '\\\\sqsupset',
    '\\\\neq',
    '\\\\smile',
    '\\\\sqsubseteq',
    '\\\\sqsupseteq',
    '\\\\doteq',
    '\\\\frown',
    '\\\\in',
    '\\\\ni',
    '\\\\propto',
    '\\\\vdash',
    '\\\\dashv',
    '\\\\leftarrow',
    '\\\\longleftarrow',
    '\\\\uparrow',
    '\\\\rightarrow',
    '\\\\longrightarrow',
    '\\\\leftrightarrow',
    '\\\\longleftrightarrow',
    '\\\\mapsto',
    '\\\\longmapsto',
    '\\\\nearrow',
    '\\\\hookleftarrow',
    '\\\\hookrightarrow',
    '\\\\searrow',
    '\\\\leftharpoonup',
    '\\\\rightharpoonup',
    '\\\\swarrow',
    '\\\\leftharpoondown',
    '\\\\rightharpoondown',
    '\\\\nwarrow',
    '\\\\rightleftharpoons',
    '\\\\leadsto',
    '\\\\ldots',
    '\\\\cdots',
    '\\\\vdots',
    '\\\\ddots',
    '\\\\aleph',
    '\\\\prime',
    '\\\\forall',
    '\\\\infty',
    '\\\\hbar',
    '\\\\emptyset',
    '\\\\exists',
    '\\\\Box',
    '\\\\imath',
    '\\\\nabla',
    '\\\\neg',
    '\\\\jmath',
    '\\\\surd',
    '\\\\flat',
    '\\\\triangle',
    '\\\\ell',
    '\\\\top',
    '\\\\natural',
    '\\\\clubsuit',
    '\\\\wp',
    '\\\\bot',
    '\\\\sharp',
    '\\\\Re',
    '\\\\\|',
    '\\\\backslash',
    '\\\\heartsuit',
    '\\\\Im',
    '\\\\angle',
    '\\\\partial',
    '\\\\spadesuit',
    '\\\\mho',
    '\\\\sum',
    '\\\\bigcap',
    '\\\\bigodot',
    '\\\\prod',
    '\\\\bigcup',
    '\\\\bigotimes',
    '\\\\coprod',
    '\\\\bigsqcup',
    '\\\\bigoplus',
    '\\\\int',
    '\\\\bigvee',
    '\\\\biguplus',
    '\\\\oint',
    '\\\\bigwedge',
    '\\\\arccos',
    '\\\\cos',
    '\\\\csc',
    '\\\\exp',
    '\\\\ker',
    '\\\\limsup',
    '\\\\min',
    '\\\\sinh',
    '\\\\arcsin',
    '\\\\cosh',
    '\\\\deg',
    '\\\\gcd',
    '\\\\lg',
    '\\\\ln',
    '\\\\Pr',
    '\\\\sup',
    '\\\\arctan',
    '\\\\cot',
    '\\\\det',
    '\\\\hom',
    '\\\\lim',
    '\\\\log',
    '\\\\sec',
    '\\\\tan',
    '\\\\arg',
    '\\\\coth',
    '\\\\dim',
    '\\\\inf',
    '\\\\liminf',
    '\\\\max',
    '\\\\sin',
    '\\\\tanh',
    '\\\\downarrow',
    '\\\\{',
    '\\\\}',
    '\\\\updownarrow',
    '\\\\lfloor',
    '\\\\rfloor',
    '\\\\lceil',
    '\\\\rceil',
    '\\\\langle',
    '\\\\rangle',
    '\\\\rmoustache',
    '\\\\lmoustache',
    '\\\\rgroup',
    '\\\\lgroup',
    '\\\\arrowvert',
    '\\\\bracevert',
    '\\\\hat',
    '\\\\acute',
    '\\\\bar',
    '\\\\dot',
    '\\\\breve',
    '\\\\check',
    '\\\\grave',
    '\\\\vec',
    '\\\\ddot',
    '\\\\tilde',
    '\\\\widetilde',
    '\\\\widehat',
    '\\\\overleftarrow',
    '\\\\overrightarrow',
    '\\\\overline',
    '\\\\underline',
    '\\\\overbrace',
    '\\\\underbrace',
    '\\\\sqrt',
    '\\\\frac',
]

_lattex_regex = re.compile('|'.join(latex), )


class LatexCompile():
    pattern = 'lattex'

    def sub(self, tag, text):
        def replace(m):
            string = m.group()
            if '<math' not in string and _lattex_regex.search(string):
                return tag
            return string
        text = re.sub('^.*?\\\\.*?$', replace, text, flags=re.M)
        return text

    def subn(self, tag, text):
        return self.sub(tag, text), 0


latex_compile = LatexCompile()
